<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Climbing the highest mountains in the world</title>
    <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:400,500,700,900,600,300|Volkhov:400,700,700italic" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Cardo|EB+Garamond|Source+Serif+Pro" rel="stylesheet">
    <link rel="stylesheet" href="css/base.css" media="screen" title="no title">
  </head>
  <body>
    <div class="container">
        <h1>First Ascents</h1>
        by <a href="http://soukiassian.me">Benjamin Soukiassian</a>
    </div>
  <div id="chartContainer">
  </div>
  <div class="container text">
    <h2 style="text-align:left;">
        Climbing the Highest Mountains in the World,
        a Historical Perspective.  </h2> <p>It is said to be a 1492 climb that led Antoine de Ville, a French Lord, to the top on Mont Aiguille that marks the beginning of mountaineering. But it really took off in the mid 1850's Europe, during a decade dubbed the Golden Age of Alpinism. From 1854 to 1865, English, French and Swiss alpinist climbed many major peaks in the Alps and turned the dubious activity into a sport.  <br><br> From there on, the race to climb big mountains was on. Equipment and technical expertise started to improve, and the climbers' grew more ambitious. However we must wait for the first half of the 20th century to see the highest mountains in the world start being climbed.  <br><br> Indeed, it is apparent while exploring the dataset used for this work, which is based on a list of the world's highest peaks, that most >7000 meters peaks were climbed after 1930.  <br><br> Our visualization starts with the Jongsong Peak, summited by a German expedition on June 2 1930. The highest climbed peak in the world during about a year until the ascent of the Kamet on June 21 1931.  <br><br> The Kamet was then topped by the Nanda Devi, climbed in 1936. It stayed the highest peak ever climbed 14 years, until 1950.  From 1939 to 1950, none of the highest peaks were climbed. That is unsurprising given that the period also correspond to the WWII and that most of the expeditions were still led by European climbers.  <br><br> On July 3 1950, Maurice Herzog reached at his first attempt the top of the Annapurna, the first 8000 meters ever climbed. The climb was done without supplemental oxygen. A remarkable feat given that above 8000 meters, in what is called the <b>death zone</b>, the air contains one third of the oxygen at sea level. Herzog wrote about the climb in a book, <i>Annapurna</i>, which to this day is the most popular mountaineering book ever written.  <br><br> In 1953, a historical year for the climbing community, both the Nanga Parbat, a 8126 meters high peak, and more famously Mount Everest, the highest mountain in the world at 8848 meters, were climbed.  <br><br> Hermann Buhl, an austrian climber, reached on July 3 1953, the top of Nanga Parbat alone and without supplemental oxygen after his climbing partner failed to keep up with his pace.  <!-- <img width="60%" style="margin:5px;float:left; left:-20px; position:relative;" src="http://mondedeptitsbonshommes.com/wp-content/uploads/173027.jpg" alt=""> --> </p>
        <figure style="margin:10px;float:left; left:-20px; position:relative; width:60%">
          <img width="100%"  src="https://upload.wikimedia.org/wikipedia/commons/0/0c/Hillary_and_tenzing.jpg" alt=""/>
          <figcaption>Edmund Hillary and Tensing Norgay</figcaption>
        </figure>
        <p>
        One month earlier, on May 29th 1953, history was made when Edmund Hillary a New Zealand mountaineer, and Tensing Norgay a Nepalese Sherpa, climbed Mount Everest by the south col.
        <br><br>
        Between 1950 and 1965, all 8000 meters peaks were climbed, and before 1996, most of the 7200 meters peaks too.
        <br><br>
        The highest peaks are also the most popular, a phenomenon shown by our visualization. The most popular of the “high” mountains clearly being Mount Everest.
        <br><br>
        The high and famous peaks are taken by storm by commercial expeditions, especially Mount Everest. Since the yearly windows of good weather are short, this sometimes lead to overcrowded climbing routes that slow climbers down. A dangerous situation since in the mountains climbing speed is key to survival.
        <br><br>
        As of today, most of the highest peaks have been climbed. But a few 7000+ meters peaks are still remaining unascended. For instance, the 7570 meters high Gangkhar Puensum in Bhutan is considered sacred and thus climbing it is prohibited by the Governement.
        <br><br>
        Since being the first on the top mountain is often not possible anymore, the mountaineering community has been pursuing other challenges: climbing without supplemental oxygen, climbing through new routes, climbing solo, climbing faster than previous expeditions and sometimes all of the above.
        <br><br>
        Higher does not also always mean more difficult. For instance in 2011, three American Alpinists,  Conrad Anker, Jimmy Chin, and Renan Ozturk reached for the first time the top of Mount Meru, an “only” 6660 meters peak through a near vertical route, the Shark's Fin, considered the hardest in the world. A <a target="_blank" href="http://www.merufilm.com">movie</a> was made of the expedition. A nice reminder that while high peaks are not the ultimate boundary of moutaineering anymore, the sport still has a bright future ahead.
<br/>

    </p>
    <div class="separator">&nbsp;</div>
    <h3>About the dataset</h3>
    <p>The Dataset is publicly available <a href="https://www.kaggle.com/abcsds/highest-mountains/">here</a>, the data was scraped from Wikipedia's list of the world's highest mountains.</p>
    <h3>About the visualization</h3>
    <p>Built using d3, dimple.js and a hefty dose of custom css.</p>

  </div>

  <script src="js/d3.v3.min.js"></script>
  <script src="js/dimple.v2.2.0.min.js"></script>
  <script type="text/javascript">
    var svg = dimple.newSvg("#chartContainer", 900, 400);

    function draw_chart(data) {

    var color1 = "#373e55";
    var color2 = "#582e4b";  
    var myChart = new dimple.chart(svg, data);
          myChart.setBounds(60, 50, 800, 305);
          myChart.customClassList.tooltipDropLine = 'custom-dropline';
          myChart.customClassList.tooltipBox = 'custom-tooltip';
          myChart.customClassList.tooltipLabel = 'custom-tooltip-label';
          myChart.customClassList.gridline = 'custom-gridline';
          myChart.defaultColors = [
            new dimple.color(color2),
            new dimple.color(color1),
          ];

      // add x axis
      var x = myChart.addTimeAxis("x", "First ascent");
          x.addOrderRule("First ascent");
          x.dateParseFormat = "%Y";
          x.tickFormat = "%Y";
          x.timeInterval = 5;
      // add y axis
      var y  = myChart.addMeasureAxis("y", "Height (m)");
          y.overrideMin = 7000;
          y.overrideMax = 9000;
          y.tickFormat = 'd';

      // add z axis (bubble size)
      z = myChart.addMeasureAxis("z", "Scaled Climbs and Attempts");

      // add more infos to tooltips
      var s = myChart.addSeries(["Mountain","Ascents bef. 2004", "Climbs and Attempts","Death Zone"], dimple.plot.bubble);


      // set legend
      legend = myChart.addLegend(60, 23, 808, 0, "right");
      legend.fontFamily = 'Source Code Pro';
      svg.selectAll("legend-title")
          .data(["Death zone:"])
          .enter()
          .append("text")
            .attr("x", 760)
            .attr("y", 13)
            .style("font-family", 'Source Code Pro')
            .style("font-weight", 500)
            .style("font-size", "12px")
            .text(function (d) { return d; });

      svg.selectAll("death-zone-limit")
          .data(["Death Zone Limit"])
          .enter()
          .append("text")
            .attr("x", 760)
            .attr("y", 216)
            .style("font-family", 'Source Code Pro')
            .style("font-size", "10px")
            .style("opacity", "0.7")
            .style("font-weight", 500)
            .style("color", "#76546c !important")
            .text(function (d) { return d; });

        var margin = 75,
            width = 800 - margin,
            height = 600 - margin;

        var legend = svg.append('g')
          .attr('class', 'legend')
          .attr('transform', "translate(" + (width - 130) + "," + 8 + ")")
          .selectAll('g')
          .data(['Climbs &', 'Attempts:'])
          .enter().append('g')

        legend.append('circle')
          .attr('cy', function(d, i) {
            if(i==0) {
              return 0;
            } else {
              return 20;
            }
          })
          .attr('cx', function(d, i){
            if(i==0) {
              return 110;
            } else {
              return 110;
            }
          })
          .attr('r', function(d, i){
            if(i==0) {
              return 8;
            } else {
              return 4;
            }
          })
          .attr('fill', '#5c6174');

        legend.append('text')
          .style("font-family", 'Source Code Pro')
          .style("font-weight", 500)
          .style("font-size", "12px")
          .attr('y', function(d, i) {
            return i * 20 + 3;
          })
          .attr('x', 25)
          .text(function(d) {
            return d;
          });

      myChart.draw();
      
      // death zone limit dashed line  
      var gridLines = svg.selectAll('.custom-gridline');
      gridLines[0].forEach(function(el) {
        if(el.__data__ == 8000) {
          el.style['stroke'] = color2;
          el.style['opacity'] = 0.3;
          el.style['stroke-width'] = 2;
          el.style['stroke-dasharray'] = 6, 6;
        }
      });
    }
    
    // clean numbers by removing symbols
    // and returning 1 for data points whose first ascent
    // is set but Ascents bef. 2004 equal 0
    function clean(n) {
      n = parseInt(n.replace(/[^\/\d]/g,''));
      if (n > 0){
        return n;
      } else {
        return 1;
      }
    }
    
    // Make the visualization work without server rendering 
    var csv_url;
    if (window.location.href.indexOf("soukiassian") > -1) {
        csv_url = "https://showmade.s3.amazonaws.com/assets/Mountains.csv"
    } else {
        csv_url = "Mountains.csv"
    }

    d3.csv(csv_url, function(data) {
      data = data.map(function(el) {
        el['Climbs and Attempts'] = clean(el['Ascents bef. 2004']) + clean(el['Failed attempts bef. 2004']);
        el['Scaled Climbs and Attempts'] = el['Climbs and Attempts'] + 10;  // field used only for better bubble size.

        if (parseInt(el['Height (m)']) > 8000) {
          el['Death Zone'] = "In";
        } else {
          el['Death Zone'] = "Out";
        }
        return el;
      });

      data = data.filter(function(el) {
        // removing mountains marked as unclimbed
        return el['First ascent'] !== 'unclimbed';
      });
      draw_chart(data);
    });
    // rescaling bubble size
    setTimeout(function () {
           svg.selectAll("circle.dimple-bubble")
              .attr("r", function(d) {return Math.sqrt(d.r);});
      }, 100);
  </script>
  </body>
</html>
